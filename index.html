<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube SEO Pro - Marathi Edition</title>
    <style>
        :root { --yt-red: #ff0000; --bg: #0d0d0d; --card: #1a1a1a; --text: #f0f0f0; --accent: #00e676; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); padding: 20px; }
        .container { max-width: 800px; margin: auto; background: var(--card); border-radius: 15px; padding: 30px; border: 1px solid #333; }
        
        .limit-info { font-size: 13px; color: #aaa; text-align: center; margin-bottom: 20px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .limit-count { color: var(--accent); font-weight: bold; }

        @keyframes pulse { 0%, 100% { opacity: 1; color: var(--accent); } 50% { opacity: 0.4; color: #fff; } }
        .loading-text { font-weight: bold; font-size: 16px; animation: pulse 1.5s infinite; margin-top: 15px; text-align: center; display: none; }

        #progress-container { display: none; width: 100%; background: #000; border: 1px solid #444; border-radius: 20px; height: 10px; margin: 15px 0; }
        #progress-bar { width: 0%; height: 100%; background: var(--yt-red); border-radius: 20px; transition: width 0.4s; }

        label { display: block; margin-top: 15px; font-size: 11px; color: #888; text-transform: uppercase; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 12px; background: #000; border: 1px solid #444; border-radius: 8px; color: #fff; margin-top: 5px; box-sizing: border-box; }
        
        .btn { background: var(--yt-red); color: #fff; border: none; padding: 18px; width: 100%; border-radius: 10px; font-size: 16px; font-weight: 800; cursor: pointer; transition: 0.3s; margin-top: 20px; }
        .btn:disabled { background: #444; cursor: not-allowed; opacity: 0.6; }

        .result-box { background: #000; padding: 20px; border-radius: 10px; border: 1px solid #444; margin-top: 20px; position: relative; display: none; }
        .copy-btn { position: absolute; top: 10px; right: 10px; color: #3ea6ff; cursor: pointer; font-size: 11px; font-weight: bold; }
        .error-log { color: #ffbb00; font-size: 14px; margin-top: 15px; display: none; background: #332200; padding: 15px; border-radius: 8px; border: 1px solid #ffbb00; text-align: center; line-height: 1.4; }
    </style>
</head>
<body>

<div class="container">
    <h1 style="text-align: center; color: #ff0000; margin-bottom: 5px;">YouTube SEO Pro</h1>
    <div class="limit-info">Daily Usage: <span id="usageCount" class="limit-count">0</span> / 5 SEO Packages</div>

    <label>Gemini API Key</label>
    <input type="password" id="apiKey" placeholder="Paste your API key here...">

    <label>Video Topic</label>
    <input type="text" id="topic" placeholder="e.g. How to grow on YouTube in 2026">

    <label>Language Style</label>
    <select id="lang">
        <option value="Casual Day-to-Day Hinglish">Hinglish</option>
        <option value="Easy Day-to-Day Hindi">Easy Hindi</option>
        <option value="Simple Day-to-Day Marathi">Simple Marathi</option>
        <option value="Global English">English</option>
    </select>

    <label>Additional Details</label>
    <textarea id="notes" rows="4" placeholder="Briefly describe your video content for accurate SEO..."></textarea>

    <button id="genBtn" class="btn" onclick="generateSEO()">GENERATE SEO PACKAGE</button>

    <div id="loading-text" class="loading-text">ARCHITECTING YOUR VIRAL SEO...</div>
    <div id="progress-container">
        <div id="progress-bar"></div>
    </div>

    <div id="errorLog" class="error-log"></div>

    <div id="resTitleBox" class="result-box">
        <span class="copy-btn" onclick="copy('resTitle')">COPY</span>
        <label>Optimized High-CTR Title</label>
        <input type="text" id="resTitle" readonly>
    </div>

    <div id="resDescBox" class="result-box">
        <span class="copy-btn" onclick="copy('resDesc')">COPY</span>
        <label>Strategic SEO Description</label>
        <textarea id="resDesc" rows="8" readonly></textarea>
    </div>
</div>

<script>
    const MAX_DAILY = 5;

    window.onload = () => {
        updateUI();
        const key = localStorage.getItem('_seo_pro_key_v3');
        if (key) document.getElementById('apiKey').value = key;
    };

    function updateUI() {
        const usage = getUsage();
        document.getElementById('usageCount').innerText = usage;
        if (usage >= MAX_DAILY) {
            document.getElementById('genBtn').disabled = true;
            document.getElementById('genBtn').innerText = "DAILY LIMIT REACHED (5/5)";
        }
    }

    function getUsage() {
        const date = new Date().toISOString().split('T')[0];
        const data = JSON.parse(localStorage.getItem('_seo_usage_v3') || '{}');
        return data[date] || 0;
    }

    function trackUsage() {
        const date = new Date().toISOString().split('T')[0];
        const data = JSON.parse(localStorage.getItem('_seo_usage_v3') || '{}');
        data[date] = (data[date] || 0) + 1;
        localStorage.setItem('_seo_usage_v3', JSON.stringify(data));
        updateUI();
    }

    async function generateSEO() {
        const key = document.getElementById('apiKey').value.trim();
        const topic = document.getElementById('topic').value;
        const notes = document.getElementById('notes').value;
        const lang = document.getElementById('lang').value;
        
        if (getUsage() >= MAX_DAILY) return alert("Bhai, daily limit of 5 finished. Come back tomorrow!");
        if (!key || !topic) return alert("API Key and Topic are mandatory!");

        localStorage.setItem('_seo_pro_key_v3', key);
        
        const loadingText = document.getElementById('loading-text');
        const errorLog = document.getElementById('errorLog');
        const bar = document.getElementById('progress-bar');
        const progContainer = document.getElementById('progress-container');

        loadingText.style.display = "block";
        progContainer.style.display = "block";
        errorLog.style.display = "none";
        document.getElementById('resTitleBox').style.display = "none";
        document.getElementById('resDescBox').style.display = "none";

        let p = 0;
        const interval = setInterval(() => { if (p < 90) p += 5; bar.style.width = p + "%"; }, 400);

        try {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${key}`;
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: `YouTube SEO Expert: Generate a high-CTR Title and a 200-word Strategic Description for "${topic}" in ${lang}. Use simple, spoken regional words. Context: ${notes}. Format strictly as TITLE: [text] DESC: [text]` }] }]
                })
            });

            const data = await response.json();
            clearInterval(interval);

            if (response.status === 429) {
                errorLog.innerText = "Bhai, this is your current limit for the day. Come back tomorrow after 24 hours to generate more!";
                errorLog.style.display = "block";
                loadingText.style.display = "none";
                progContainer.style.display = "none";
            } else if (data.candidates) {
                bar.style.width = "100%";
                setTimeout(() => {
                    const fullText = data.candidates[0].content.parts[0].text;
                    document.getElementById('resTitle').value = fullText.split('TITLE:')[1]?.split('DESC:')[0]?.trim();
                    document.getElementById('resDesc').value = fullText.split('DESC:')[1]?.trim();
                    
                    loadingText.style.display = "none";
                    progContainer.style.display = "none";
                    document.getElementById('resTitleBox').style.display = "block";
                    document.getElementById('resDescBox').style.display = "block";
                    trackUsage();
                }, 500);
            } else {
                errorLog.innerText = "Error: " + (data.error?.message || "Unknown error.");
                errorLog.style.display = "block";
                loadingText.style.display = "none";
                progContainer.style.display = "none";
            }
        } catch (e) {
            clearInterval(interval);
            errorLog.innerText = "Network Error. Please try again.";
            errorLog.style.display = "block";
            loadingText.style.display = "none";
            progContainer.style.display = "none";
        }
    }

    function copy(id) {
        const el = document.getElementById(id);
        el.select();
        navigator.clipboard.writeText(el.value);
        alert("Copied!");
    }
</script>

</body>
</html>
